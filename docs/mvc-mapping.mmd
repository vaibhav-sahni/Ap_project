flowchart TB

%% =============================
%% CLIENT
%% =============================
subgraph Client[Client Side]
direction TB

UI["UI Forms (Swing)
- DashboardForm
- RegisterCoursesForm
- MyGradesForm"]

Ctrl["Actions / Controllers
- StudentActions
- AdminActions
- InstructorActions"]

API["API Adapters
- StudentAPI
- NotificationAPI
- AuthAPI"]

TransC["Transport Layer
(ClientRequest, ClientSession)"]

ClientModels["Client Models
(CourseCatalog, EnrollmentRecord)"]

FormMgr["FormManager (Navigation)"]
Ctx["ClientContext"]
end

%% =============================
%% TRANSPORT
%% =============================
Socket((TCP Socket))

%% =============================
%% SERVER
%% =============================
subgraph Server[Server Side]
direction TB

Handler["ClientHandler (Router)"]

Service["Service Layer
- StudentService
- AdminService
- InstructorService"]

DAO["DAO Layer
- EnrollmentDAO
- CourseDAO
- GradeDAO"]

Domain["Domain Models
(CourseCatalog, EnrollmentRecord, Notification, UserAuth)"]

DB[(Database)]
end

%% =============================
%% FLOW
%% =============================

UI --> Ctrl --> API --> TransC --> Socket
Socket --> Handler --> Service --> DAO --> DB

DB --> DAO --> Service --> Handler --> Socket --> TransC --> API --> Ctrl --> UI

API --> ClientModels --> UI
FormMgr --> UI
Ctx --> UI

classDef client fill:#eef6ff,stroke:#3b82f6,stroke-width:1px;
classDef server fill:#fff4e6,stroke:#ff9800,stroke-width:1px;

class UI,Ctrl,API,TransC,ClientModels,FormMgr,Ctx client
class Handler,Service,DAO,Domain,DB server
